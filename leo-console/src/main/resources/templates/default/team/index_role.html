<div class="panel panel-default">
    <div class="panel-heading clearfix">
        <span class="pull-left">绑定成员「<span ng-bind="current.user.name"></span>」的角色</span>
        <ul class="panel-heading-group">
            <li panel-heading-dropdown>
                <a href="#"><span ng-bind="current.app.name"></span>&nbsp;<fa i="caret-down"></fa></a>
                <ul class="panel-heading-dropdown">
                    <li ng-repeat="app in $apps|exclude:current.app"><a href="#" ng-click="userFn.activeApp(app)"><fa i="caret-right">&nbsp;<span ng-bind="app.name"></span></fa></a></li>
                </ul>
            </li>
        </ul>
    </div>
    <table class="table table-striped table-hover">
        <colgroup>
            <col width="0%">
            <col width="100%">
        </colgroup>
        <tbody>
        <tr ng-repeat="role in roles">
            <td><a href="#" ng-click="userFn.checkRole(role)"><i class="fa fa-fw" ng-class="{'fa-check-square-o': role.checked, 'fa-square-o': !role.checked}"></i></a></td>
            <td ng-bind="role.name"></td>
        </tr>
        <tr ng-if="ctrl.status('roleGrid', ['loaded']) && valid.empty(roles)"><td class="text-warning" col-span><fa i="exclamation-triangle">&nbsp;${app.msg('common.empty')}</fa></td></tr>
        <tr ng-if="ctrl.status('roleGrid', ['loading'])"><td col-span><fa i="spinner spin">&nbsp;${app.msg('common.processing')}</fa></td></tr>
        </tbody>
    </table>
</div>
<div class="table-footer">
    <button class="btn btn-success" ng-click="userFn.bind()" ng-disabled="ctrl.status('bindBtn', ['processing'])">
        <span ng-show="ctrl.status('bindBtn', ['standby'])"><fa i="check-square-o">&nbsp;绑定</fa></span>
        <span ng-show="ctrl.status('bindBtn', ['processing'])"><fa i="spinner spin">&nbsp;${app.msg('common.processing')}</fa></span>
    </button>
    <button class="btn btn-default" ng-click="userFn.cancel()"><fa i="times-circle">&nbsp;${app.msg('common.op.cancel')}</fa></button>
</div>