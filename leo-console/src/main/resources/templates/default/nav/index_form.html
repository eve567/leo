<form name="navForm" action="#" method="post" class="form-horizontal" ng-submit="navFn.save($event)">
    <div class="form-group">
        <label class="col-sm-2 control-label"><rq>名称</rq></label>
        <div class="col-sm-4">
            <input name="name" title="名称" class="form-control" placeholder="请填写功能名称" ng-model="nav.name" required maxlength="50" ng-disabled="ctrl.status('navForm', ['locked'])">
            <alert-pop field="navForm.name">
                <alert-pop-item type="required">必须填写功能名称</alert-pop-item>
                <alert-pop-item type="maxlength">功能名称不能超过50个字符</alert-pop-item>
            </alert-pop>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">副称</label>
        <div class="col-sm-4">
            <input name="subname" title="副称" class="form-control" placeholder="请填写功能副称" ng-model="nav.subname" maxlength="50" ng-disabled="ctrl.status('navForm', ['locked'])">
            <alert-pop field="navForm.subname">
                <alert-pop-item type="maxlength">功能副称不能超过50个字符</alert-pop-item>
            </alert-pop>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"><rq>代码</rq></label>
        <div class="col-sm-4">
            <input name="code" title="代码" class="form-control" placeholder="请填写功能代码" ng-model="nav.code" required maxlength="50" pattern="^\w+$" ng-disabled="ctrl.status('navForm', ['locked'])">
            <alert-pop field="navForm.code">
                <alert-pop-item type="required">必须填写功能代码</alert-pop-item>
                <alert-pop-item type="maxlength">功能名称不能超过50个字符</alert-pop-item>
                <alert-pop-item type="pattern">功能名称只能使用数字和字母</alert-pop-item>
            </alert-pop>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"><rq>地址</rq></label>
        <div class="col-sm-6">
            <input name="path" title="地址" class="form-control" placeholder="@/" ng-model="nav.path" required maxlength="250" ng-disabled="ctrl.status('navForm', ['locked'])">
            <alert-pop field="navForm.path">
                <alert-pop-item type="required">必须填写功能地址</alert-pop-item>
                <alert-pop-item type="maxlength">访问地址不能超过250个字符</alert-pop-item>
            </alert-pop>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"><rq>目标</rq></label>
        <div class="col-sm-2">
            <input name="target" title="目标" class="form-control" placeholder="_blank" ng-model="nav.target" required maxlength="50" ng-disabled="ctrl.status('navForm', ['locked'])">
            <alert-pop field="navForm.target">
                <alert-pop-item type="required">必须填写功能目标</alert-pop-item>
                <alert-pop-item type="maxlength">访问目标不能超过50个字符</alert-pop-item>
            </alert-pop>
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-6">
            <div class="input-group">
                <span class="input-group-addon">插入</span>
                <select title="请选择相邻功能" class="form-control" ng-options="n.name for n in neighbours" ng-model="nav.neighbour" ng-disabled="ctrl.status('navForm', ['locked'])"></select>
                <div class="input-group-btn">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" ng-disabled="ctrl.status('navForm', ['locked'])"><span ng-bind="current.position.name"></span> <span class="caret"></span></button>
                    <ul class="dropdown-menu">
                        <li ng-repeat="pos in positions|exclude:current.position:'type'" ng-click="current.position = pos"><a href="#" ng-bind="pos.name"></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="form-group margin-bottom-zero">
        <div class="col-sm-offset-2 col-sm-10">
            <button class="btn btn-success" ng-disabled="navFn.disabledSaveBtn()">
                <span ng-show="ctrl.status('saveBtn', ['standby'])"><fa i="floppy-o">&nbsp;保存</fa></span>
                <span ng-show="ctrl.status('saveBtn', ['processing'])"><fa i="spinner spin">&nbsp;${app.msg('common.processing')}</fa></span>
            </button>
            <button type="button" class="btn btn-default" ng-click="navFn.cancel()" ng-disabled="ctrl.status('navForm', ['locked'])"><fa i="times-circle">&nbsp;取消</fa></button>
        </div>
    </div>
</form>