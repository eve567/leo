/*
 */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,g,c){b instanceof String&&(b=String(b));for(var d=b.length,a=0;a<d;a++){var f=b[a];if(g.call(c,f,a,b))return{i:a,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,g,c){b!=Array.prototype&&b!=Object.prototype&&(b[g]=c.value)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,g,c,d){if(g){c=$jscomp.global;b=b.split(".");for(d=0;d<b.length-1;d++){var a=b[d];a in c||(c[a]={});c=c[a]}b=b[b.length-1];d=c[b];g=g(d);g!=d&&null!=g&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:g})}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6","es3");
(function(b,g){b.module("leoApi",["ugCommon"]).service("$leo",["$http","$common",function(c,d){var a={$config:{},$constant:{jsonp:"jsonp=JSON_CALLBACK",uri:{signOut:"/sign_out",core:{apps:"api/apps",navs:"api/navs",viewItems:"api/view_items"}}},config:function(b,d,h,c,g){a.$config.host=b;a.$config.gateway=d;a.$config.accessToken=h;a.$config.appId=c;a.$config.scope=g},apps:function(d){a.$jsonp([a.$config.host,a.$constant.uri.core.apps,a.$config.accessToken,a.$config.appId].join("/"),function(a){(d||
b.noop)(a.content)})},navs:function(d,c){a.$jsonp([a.$config.host,a.$constant.uri.core.navs,"99",d.id,a.$config.accessToken,a.$config.appId].join("/"),function(a){(c||b.noop)(a.content)})},viewItems:function(d,c){a.$jsonp([a.$config.host,a.$constant.uri.core.viewItems,d,a.$config.accessToken,a.$config.appId].join("/"),function(a){(c||b.noop)(a.content)})},refresh:function(b){d.valid.str(b)?a.$config.scope.bodyUrl=b+(0<=b.indexOf("?")?"&":"?")+d.date.timestamp():d.valid.obj(a.$config.scope.$subnav)?
a.$config.scope.bodyUrl=a.$config.scope.$subnav.url+(0<=a.$config.scope.$subnav.url.indexOf("?")?"&":"?")+d.date.timestamp():console.error("wrong url or nav setting")},fullscreen:function(b){a.$config.scope.$fullscreen=d.valid.defined(b)?b:!0!==a.$config.scope.$fullscreen;a.$config.scope.$fullscreen?d.$("body").addClass("fullscreen"):d.$("body").removeClass("fullscreen")},$jsonp:function(f,e,h){c({method:"jsonp",url:f}).then(function(c){c.data.success?(e||b.noop)(c.data):"0001"===c.data.respCode?
d.ctrl.redirect(a.$config.host+a.$constant.uri.signOut):console.error(c.data)},function(a){console.error(a);(h||b.noop)(a.data)})}};return a}]).directive("layout",["$leo","$common",function(c,d){return{restrict:"E",replace:!0,transclude:!0,scope:!0,templateUrl:d.ctrl.scriptPath(["leo-api.min.js","leo-api.js"])+"/leo-api-layout.html",link:function(a,f,e){b.extend(a,{$init:function(){b.extend(a,{$host:e.host,$gateway:e.gateway,$accessToken:e.accessToken,$appId:e.appId,$brand:e.brand,$username:e.username,
$mode:parseInt(e.mode||0)});c.config(a.$host,a.gateway,a.$accessToken,a.$appId,a);a.$dom();a.$find({id:"_null",root:!0});c.apps(function(b){a.$apps=b})},$dom:function(){a.$transcludeDom=f.find("[ng-transclude]");a.$brandDom=a.$transcludeDom.find(".navbar-brand");a.$llisDom=a.$transcludeDom.find("li.layout-nav-left");a.$rlisDom=a.$transcludeDom.find("li.layout-nav-right");0<a.$brandDom.length&&(f.find(".navbar-header > .navbar-brand").remove(),f.find(".navbar-header").append(a.$brandDom));0<a.$llisDom.length&&
f.find(".navbar-nav").not(".navbar-right").append(a.$llisDom);0<a.$rlisDom.length&&f.find(".navbar-right").prepend(a.$rlisDom)},$find:function(b){a.$modes[a.$mode].$find(b)},$active:function(b){a.$subnav!==b&&(a.$subnav=b,c.refresh())},$modes:{0:{$find:function(b){d.valid.arr(b.children)&&!0===b.$loaded?(a.$nav=b,a.$active(a.$nav.children[0])):c.navs(b,function(c){d.valid.arr(c)?!0===b.root?(a.$navs=c,a.$modes[0].$find(a.$navs[0])):(a.$nav=b,a.$nav.$loaded=!0,a.$nav.children=c,a.$active(a.$nav.children[0])):
console.error(c)})}},1:{$find:function(e,f){d.valid.arr(e.children)&&!0===e.$loaded||c.navs(e,function(c){d.valid.arr(c)?!0===e.root?(a.$navs=c,b.forEach(a.$navs,function(b,c){a.$modes[1].$find(b,0===c)})):(e.children=c,e.$loaded=!0,f&&a.$active(e.children[0])):console.error(c)})}}}}).$init()}}}]).directive("view",["$leo",function(c){return{restrict:"A",scope:!0,link:function(d,a,f){b.extend(d,{$init:function(){d.$viewItemCodes=[];c.viewItems(f.view,function(a){b.forEach(a,function(a){d.$viewItemCodes.push(a.code)});
d.$loadedViewItemCodes=!0})}}).$init()}}}]).directive("viewItem",["$common",function(c){return{restrict:"A",link:function(d,a,f){b.extend(d,{$init:function(){d.$watch("$loadedViewItemCodes",function(a){!0===a&&d.$check(d.$viewItemCodes)})},$check:function(b){0<=c.array.in(b,f.viewItem)?a.removeAttr("view-item"):a.remove()}}).$init()}}}])})(window.angular);
