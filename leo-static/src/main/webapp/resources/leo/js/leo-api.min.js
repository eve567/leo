/*
 */
var $jscomp={scope:{},findInternal:function(a,f,d){a instanceof String&&(a=String(a));for(var e=a.length,b=0;b<e;b++){var g=a[b];if(f.call(d,g,b,a))return{i:b,v:g}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,f,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[f]=d.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,f,d,e){if(f){d=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var b=a[e];b in d||(d[b]={});d=d[b]}a=a[a.length-1];e=d[a];f=f(e);f!=e&&null!=f&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:f})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6-impl","es3");
(function(a,f){a.module("leoApi",["ugCommon"]).service("$leo",["$http","$common",function(d,e){var b={$config:{},$constant:{jsonp:"jsonp=JSON_CALLBACK",uri:{signOut:"/sign_out",core:{apps:"api/apps",navs:"api/navs"}}},config:function(a,c,e,d){b.$config.host=a;b.$config.accessToken=c;b.$config.appId=e;b.$config.scope=d},apps:function(e){b.$jsonp([b.$config.host,b.$constant.uri.core.apps,b.$config.accessToken,b.$config.appId].join("/"),function(c){(e||a.noop)(c.content)})},navs:function(e,c){b.$jsonp([b.$config.host,
b.$constant.uri.core.navs,"99",e.id,b.$config.accessToken,b.$config.appId].join("/"),function(b){(c||a.noop)(b.content)})},refresh:function(a){e.valid.str(a)?b.$config.scope.bodyUrl=a+(0<=a.indexOf("?")?"&":"?")+e.date.timestamp():e.valid.obj(b.$config.scope.$subnav)?b.$config.scope.bodyUrl=b.$config.scope.$subnav.url+(0<=b.$config.scope.$subnav.url.indexOf("?")?"&":"?")+e.date.timestamp():console.error("wrong url or nav setting")},fullscreen:function(a){b.$config.scope.$fullscreen=e.valid.defined(a)?
a:!0!==b.$config.scope.$fullscreen;b.$config.scope.$fullscreen?e.$("body").addClass("fullscreen"):e.$("body").removeClass("fullscreen")},$jsonp:function(f,c,h){d({method:"jsonp",url:f}).then(function(d){d.data.success?(c||a.noop)(d.data):"0001"===d.data.respCode?e.ctrl.redirect(b.$config.host+b.$constant.uri.signOut):console.error(d.data)},function(c){console.error(c);(h||a.noop)(c.data)})}};return b}]).directive("layout",["$leo","$common","$sce",function(d,e,b){var f=e.ctrl.scriptPath(["leo-api.min.js",
"leo-api.js"])+"leo-api-layout.html";b.trustAsResourceUrl(f);return{restrict:"E",replace:!0,transclude:!0,scope:!0,templateUrl:f,link:function(c,b,f){a.extend(c,{$init:function(){a.extend(c,{$host:f.host,$accessToken:f.accessToken,$appId:f.appId,$brand:f.brand,$username:f.username,$mode:parseInt(f.mode||0)});d.config(c.$host,c.$accessToken,c.$appId,c);c.$dom();c.$find({id:"_root",root:!0});d.apps(function(a){c.$apps=a})},$dom:function(){c.$transcludeDom=b.find("[ng-transclude]");c.$brandDom=c.$transcludeDom.find(".navbar-brand");
c.$llisDom=c.$transcludeDom.find("li.layout-nav-left");c.$rlisDom=c.$transcludeDom.find("li.layout-nav-right");0<c.$brandDom.length&&(b.find(".navbar-header > .navbar-brand").remove(),b.find(".navbar-header").append(c.$brandDom));0<c.$llisDom.length&&b.find(".navbar-nav").not(".navbar-right").append(c.$llisDom);0<c.$rlisDom.length&&b.find(".navbar-right").prepend(c.$rlisDom)},$find:function(a){c.$modes[c.$mode].$find(a)},$active:function(a){c.$subnav=a;d.refresh()},$modes:{0:{$find:function(a){e.valid.arr(a.children)&&
!0===a.$loaded?(c.$nav=a,c.$active(c.$nav.children[0])):d.navs(a,function(b){e.valid.arr(b)?!0===a.root?(c.$navs=b,c.$modes[0].$find(c.$navs[0])):(c.$nav=a,c.$nav.$loaded=!0,c.$nav.children=b,c.$active(c.$nav.children[0])):console.error(b)})}},1:{$find:function(b,f){e.valid.arr(b.children)&&!0===b.$loaded||d.navs(b,function(d){e.valid.arr(d)?!0===b.root?(c.$navs=d,a.forEach(c.$navs,function(a,b){c.$modes[1].$find(a,0===b)})):(b.children=d,b.$loaded=!0,f&&c.$active(b.children[0])):console.error(d)})}}}}).$init()}}}])})(window.angular);
