/*
 */
(function(d,f){d.module("ugTree",["ugCommon"]).service("$tree",["$common",function(b){var c={$config:{icon:{spin:"fa-spinner fa-spin",none:"fa-info-circle",close:"fa-caret-right",open:"fa-caret-down",unchecked:"fa-square-o",checked:"fa-check-square-o",ban:"fa-ban"}},collapse:function(a){b.valid.arr(a)?d.forEach(a,function(a){c.collapse(a)}):b.valid.obj(a)&&(b.valid.undefined(a.$status.collapsed)?(b.valid.undefined(a.children)&&b.valid.fn(a.$fn.load)?c.load(a):b.valid.undefined(a.children)&&(a.children=
[]),b.valid.defined(a.children)&&(a.$status.collapsed=!0)):!1===a.$status.collapsed?a.$status.collapsed=!0:!0===a.$status.collapsed&&(a.$status.collapsed=!1))},load:function(a){b.valid.arr(a)?d.forEach(a,function(a){c.load(a)}):b.valid.obj(a)&&b.valid.fn(a.$fn.load)&&(a.$status.loading=!0,a.$fn.load(a))},loaded:function(a,b){d.forEach(b,function(b){b.$fn=b.$fn||{};b.$status=b.$status||{};b.$operations=b.$operations||[];b.$parent=a});c.collapse(a);a.children=b;a.$status.loading=!1},createFn:function(a,
b){return{name:a,$fn:b}},doFn:function(a){c.isFn(a)?a.$fn(a):console.error("the node is not fn",a)},isFn:function(a){return b.valid.obj(a)&&b.valid.fn(a.$fn)},addOperations:function(a,c){c.$operations=c.$operations||[];a=b.valid.arr(a)?a:[a];d.forEach(a,function(a){c.$operations.push(a)})},doOperation:function(a,e){(b.valid.empty(a.$status.collapsed)||!1===a.$status.collapsed)&&c.collapse(a);(e.fn||d.noop)(a)}};return c}]).directive("tree",["$common","$tree",function(b,c){return{restrict:"E",replace:!0,
require:"^ngModel",scope:{ngModel:"=",autoCollapse:"="},templateUrl:b.ctrl.scriptPath(["ufrog-angular-tree.min.js","ufrog-angular-tree.js"])+"/ufrog-angular-tree.html",link:function(a,e){d.extend(a,{$init:function(){a.$wrap()},$wrap:function(){e.parent().is("li")||e.wrap('<div class="tree"></div>')},$collapseIcon:function(c){if(!0===c.$status.loading)return a.$service.$config.icon.spin;if(b.valid.arr(c.children)&&0===c.children.length)return a.$service.$config.icon.none;if(b.valid.undefined(c.$status.collapsed)||
!1===c.$status.collapsed)return a.$service.$config.icon.close;if(!0===c.$status.collapsed)return a.$service.$config.icon.open},$checkboxIcon:function(c){if(b.valid.undefined(c.$status.check)||"unchecked"===c.$status.check||"checked"===c.$status.check)return a.$service.$config.icon.unchecked;if("ban"===c.$status.check)return a.$service.$config.icon.ban},$service:c}).$init()}}}])})(window.angular);
