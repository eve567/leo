/*
 */
(function(f,g){f.module("ugTree",["ugCommon"]).service("$tree",["$common",function(b){var d={$config:{icon:{spin:"fa-spinner fa-spin",none:"fa-info-circle",close:"fa-caret-right",open:"fa-caret-down",unchecked:"fa-square-o",checked:"fa-check-square-o",ban:"fa-ban"}},collapse:function(a){b.valid.arr(a)?f.forEach(a,function(a){d.collapse(a)}):b.valid.obj(a)&&(d.$init(a),b.valid.undefined(a.$status.collapsed)?(b.valid.undefined(a.children)&&b.valid.fn(a.$fn.load)?d.$loadChildren(a):b.valid.undefined(a.children)&&
(a.children=[]),b.valid.defined(a.children)&&0<a.children.length&&(a.$status.collapsed=!0)):!1===a.$status.collapsed?a.$status.collapsed=!0:!0===a.$status.collapsed&&(a.$status.collapsed=!1))},$loadChildren:function(a){b.valid.arr(a)?f.forEach(a,function(a){d.$loadChildren(a)}):b.valid.obj(a)&&b.valid.fn(a.$fn.load)&&(d.$init(a),a.$status.loading=!0,a.$fn.load(a,function(b){a.$status.loading=!1;d.$init(b,a);d.collapse(a)}))},$init:function(a,e){b.valid.arr(a)?f.forEach(a,function(a){d.$init(a,e)}):
b.valid.obj(a)&&!0!==(a.$status||{}).inited&&(b.valid.undefined(a.$fn)&&(a.$fn={}),b.valid.undefined(a.$status)&&(a.$status={}),b.valid.undefined(a.$operations)&&(a.$operations=[]),b.valid.undefined(a.$parent)&&b.valid.obj(e)&&(a.$parent=e),a.$status.inited=!0)}};return d}]).directive("tree",["$common","$tree",function(b,d){return{restrict:"E",replace:!0,require:"^ngModel",scope:{ngModel:"=",autoCollapse:"="},templateUrl:b.ctrl.scriptPath(["ufrog-angular-tree.min.js","ufrog-angular-tree.js"])+"/ufrog-angular-tree.html",
link:function(a,e){f.extend(a,{$init:function(){a.$wrap()},$wrap:function(){e.parent().is("li")||e.wrap('<div class="tree"></div>')},$collapseIcon:function(c){a.$service.$init(c);if(!0===c.$status.loading)return a.$service.$config.icon.spin;if(b.valid.arr(c.children)&&0===c.children.length)return a.$service.$config.icon.none;if(b.valid.undefined(c.$status.collapsed)||!1===c.$status.collapsed)return a.$service.$config.icon.close;if(!0===c.$status.collapsed)return a.$service.$config.icon.open},$checkboxIcon:function(c){if(b.valid.undefined(c.$status.check)||
"unchecked"===c.$status.check||"checked"===c.$status.check)return a.$service.$config.icon.unchecked;if("ban"===c.$status.check)return a.$service.$config.icon.ban},$isFn:function(a){return b.valid.obj(a)&&b.valid.fn((a.$fn||{}).node)},$service:d}).$init()}}}])})(window.angular);
