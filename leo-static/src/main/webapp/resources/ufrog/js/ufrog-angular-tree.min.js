/*
 */
(function(e,g){e.module("ugTree",["ugCommon"]).service("$tree",["$common",function(b){var d={$config:{icon:{spin:"fa-spinner fa-spin",none:"fa-info-circle",close:"fa-caret-right",open:"fa-caret-down",unchecked:"fa-square-o",checked:"fa-check-square-o",ban:"fa-ban"}},collapse:function(a){b.valid.arr(a)?e.forEach(a,function(a){d.collapse(a)}):b.valid.obj(a)&&(a.$status=a.$status||{},b.valid.undefined(a.$status.collapsed)?(b.valid.undefined(a.children)&&b.valid.fn(a.$fn.load)?d.load(a):b.valid.undefined(a.children)&&
(a.children=[]),b.valid.defined(a.children)&&(a.$status.collapsed=!0)):!1===a.$status.collapsed?a.$status.collapsed=!0:!0===a.$status.collapsed&&(a.$status.collapsed=!1))},load:function(a){b.valid.arr(a)?e.forEach(a,function(a){d.load(a)}):b.valid.obj(a)&&b.valid.fn(a.$fn.load)&&(a.$status=a.$status||{},a.$status.loading=!0,a.$fn.load(a))},reload:function(a){b.valid.arr(a)?e.forEach(a,function(a){d.reload(a)}):b.valid.obj(a)&&(b.array.empty(a.children),a.$status.collapsed=!1,d.load(a))},loaded:function(a,
b){a.children=a.children||[];e.forEach(b,function(c){c.$parent=a;a.children.push(c)});d.collapse(a);a.$status.loading=!1},setLoadFn:function(a,b){b.$fn=b.$fn||{};b.$fn.load=a},addOperation:function(a,b,c,d,e){e.$operations=e.$operations||[];e.$operations.push({icon:a,cls:b,title:c,fn:d})},doOperation:function(a,f){(b.valid.empty(a.$status.collapsed)||!1===a.$status.collapsed)&&d.collapse(a);(f.fn||e.noop)(a)},addNodeFn:function(a,b,c){c.$nodeFns=c.$nodeFns||[];c.$nodeFns.push({html:a,fn:b})}};return d}]).directive("tree",
["$common","$tree",function(b,d){return{restrict:"E",replace:!0,require:"^ngModel",scope:{ngModel:"=",autoCollapse:"="},templateUrl:b.ctrl.scriptPath(["ufrog-angular-tree.min.js","ufrog-angular-tree.js"])+"/ufrog-angular-tree.html",link:function(a,f){e.extend(a,{$init:function(){a.$wrap()},$wrap:function(){f.parent().is("li")||f.wrap('<div class="tree"></div>')},$collapseIcon:function(c){c.$status=c.$status||{};if(!0===c.$status.loading)return a.$service.$config.icon.spin;if(b.valid.arr(c.children)&&
0===c.children.length)return a.$service.$config.icon.none;if(b.valid.undefined(c.$status.collapsed)||!1===c.$status.collapsed)return a.$service.$config.icon.close;if(!0===c.$status.collapsed)return a.$service.$config.icon.open},$checkboxIcon:function(c){c.$status=c.$status||{};if(b.valid.undefined(c.$status.check)||"unchecked"===c.$status.check||"checked"===c.$status.check)return a.$service.$config.icon.unchecked;if("ban"===c.$status.check)return a.$service.$config.icon.ban},$service:d}).$init()}}}])})(window.angular);
