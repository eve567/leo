/*
 */
(function(k,m,p){k.module("ugRequest",["ugCommon","ugBootstrap"]).service("$request",["$common","$bootstrap","$http",function(n,q,l){var c={$config:{$defaultParams:{_request_type:"json"}},config:function(b){c.$config.$defaultParams=b},get:function(b,g,d,e,f,h){var a=c.$checkArguments(g,d,e,f,h);l({method:"get",url:b,params:k.extend({},c.$config.$defaultParams,a.data)}).then(function(b){c.$doSuccess(b,a.success,a.pre,a.post,a.error)},function(b){c.$doError(b,a.error,a.pre,a.post)})},post:function(b,
g,d,e,f,h){var a=c.$checkArguments(g,d,e,f,h);l({method:"post",url:b+(0<=b.indexOf("?")?"&":"?")+m.param(c.$config.$defaultParams),data:a.data}).then(function(b){c.$doSuccess(b,a.success,a.pre,a.post,a.error)},function(b){c.$doError(b,a.error,a.pre,a.post)})},postUrlencoded:function(b,g,d,e,f,h){var a=c.$checkArguments(g,d,e,f,h);l({method:"post",url:b,data:m.param(k.extend({},c.$config.$defaultParams,a.data)),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(b){c.$doSuccess(b,
a.success,a.pre,a.post,a.error)},function(b){c.$doError(b,a.error,a.pre,a.post)})},put:function(b,g,d,e,f,h){var a=c.$checkArguments(g,d,e,f,h);l({method:"put",url:b+(0<=b.indexOf("?")?"&":"?")+m.param(c.$config.$defaultParams),data:a.data}).then(function(b){c.$doSuccess(b,a.success,a.pre,a.post,a.error)},function(b){c.$doError(b,a.error,a.pre,a.post)})},putUrlencoded:function(b,g,d,e,f,h){var a=c.$checkArguments(g,d,e,f,h);l({method:"put",url:b,data:m.param(k.extend({},c.$config.$defaultParams,a.data)),
headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(b){c.$doSuccess(b,a.success,a.pre,a.post,a.error)},function(b){c.$doError(b,a.error,a.pre,a.post)})},"delete":function(b,g,d,e,f,h){var a=c.$checkArguments(g,d,e,f,h);l({method:"delete",url:b+(0<=b.indexOf("?")?"&":"?")+m.param(c.$config.$defaultParams),data:a.data}).then(function(b){c.$doSuccess(b,a.success,a.pre,a.post,a.error)},function(b){c.$doError(b,a.error,a.pre,a.post)})},upload:function(b,g,d,e,f,h){var a=c.$checkArguments(g,
d,e,f,h);l({method:"post",url:b,data:n.ctrl.formData(k.extend({},c.$config.$defaultParams,a.data)),headers:{"Content-Type":p},transformRequest:function(a){console.log("upload data:",a);return a}}).then(function(b){c.$doSuccess(b,a.success,a.pre,a.post,a.error)},function(b){c.$doError(b,a.error,a.pre,a.post)})},$doSuccess:function(b,g,d,e,f){(d||k.noop)(b.data);q.alert.check(b.data)?(g||k.noop)(b.data):c.$doError(b,f);(e||k.noop)(b.data)},$doError:function(b,c,d,e){console.error(b);(d||k.noop)(b.data);
(c||k.noop)(b.data);(e||k.noop)(b.data)},$checkArguments:function(b,c,d,e,f){return n.valid.fn(b)?{data:{},success:b,pre:c,post:d,error:e}:{data:b,success:c,pre:d,post:e,error:f}}};return c}])})(window.angular,window.jQuery);
